<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Async/Await</title>
</head>
<body>
    <h1 id="main">Just Me</h1>
    <script>

        // async function print() { console.log(1); await Promise.resolve(); console.log(2); } print(); console.log(3);

        async function foo() { return 'Hello'; } 
        foo().then(console.log);

        async function getStatus() { return 'OK'; }
console.log(getStatus());

        //Example1
        async function f(){
            console.log("async function output");
            return Promise.resolve(1);
        }
        f();
        //Example 2
        async function myDisplay(){
            let myProm = new Promise( function(myResolve,myReject){
                myResolve("Hello world");
            });
            document.getElementById("main").innerHTML = await myProm;
        }
        myDisplay();

        // //---3---
        // let prom = new Promise(function(resolve,reject){
        //     setTimeout(function(){ resolve("Promise resolved")}, 4000);
        // });

        // async function asyncFunc(){
        //     let result = await prom;

        //     console.log(result);
        //     console.log("Hello");
        // }
        // asyncFunc();

        async function func(){
            let fprom = new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve("My answer");
                }, 1000);
            });
            let res= await fprom;
            alert(res);
        }
        // func();

        async function runProcess(){
            try {
                let response = await fetch('https://jsonplaceholder.typicode.com/todos/1');
                let json = response.json();
                console.log(json);
            } catch (error) {
                console.log(error);
            }
        }
        // runProcess();

        (async function(){
            try {
                let response = await fetch('https://jsonplaceholder.typicode.com/todos/1');
                let json = response.json();
                console.log(json);
            } catch (error) {
                console.log(error);
            }
        })();
     
    </script>
</body>
</html>